{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "iCalendar",
    "scopeName": "source.icalendar",
    "foldingStartMarker": "^BEGIN:(VCALENDAR|VEVENT|VTODO|VJOURNAL|VFREEBUSY|VTIMEZONE|VALARM)$",
    "foldingStopMarker": "^END:(VCALENDAR|VEVENT|VTODO|VJOURNAL|VFREEBUSY|VTIMEZONE|VALARM)$",
    "patterns": [
        {
            "include": "#main"
        }
    ],
    "repository": {
        "main": {
            "patterns": [
                {
                    "include": "#comment-properties"
                },
                {
                    "include": "#component-delimiters"
                },
                {
                    "include": "#property-names"
                },
                {
                    "include": "#component-names"
                },
                {
                    "include": "#property-values"
                },
                {
                    "include": "#parameters"
                },
                {
                    "include": "#date-time"
                },
                {
                    "include": "#strings"
                }
            ]
        },
        "component-delimiters": {
            "patterns": [
                {
                    "name": "keyword.control.begin.icalendar",
                    "match": "^(BEGIN):"
                },
                {
                    "name": "keyword.control.end.icalendar",
                    "match": "^(END):"
                }
            ]
        },
        "component-names": {
            "patterns": [
                {
                    "name": "support.class.icalendar",
                    "match": "\\b(VCALENDAR|VEVENT|VTODO|VJOURNAL|VFREEBUSY|VTIMEZONE|VALARM|STANDARD|DAYLIGHT)\\b"
                }
            ]
        },
        "property-names": {
            "patterns": [
                {
                    "name": "support.function.icalendar",
                    "match": "\\b(CALSCALE|METHOD|PRODID|VERSION|ATTACH|CATEGORIES|CLASS|COLOR|COMMENT|CONFERENCE|DESCRIPTION|GEO|IMAGE|LAST-MODIFIED|LOCATION|PERCENT-COMPLETE|PRIORITY|RESOURCES|STATUS|SUMMARY|COMPLETED|DTEND|DUE|DTSTART|DURATION|FREEBUSY|NAME|TRANSP|TZID|TZNAME|TZOFFSETFROM|TZOFFSETTO|TZURL|ATTENDEE|CONTACT|ORGANIZER|RECURRENCE-ID|REFRESH-INTERVAL|RELATED-TO|SOURCE|URL|UID|EXDATE|EXRULE|RDATE|RRULE|ACTION|REPEAT|TRIGGER|CREATED|DTSTAMP|LAST-MODIFIED|SEQUENCE|REQUEST-STATUS|ALTREP|CN|CUTYPE|DELEGATED-FROM|DELEGATED-TO|DIR|ENCODING|FMTTYPE|FBTYPE|LANGUAGE|MEMBER|PARTSTAT|RANGE|RELATED|RELTYPE|ROLE|RSVP|SENT-BY|TZID|URL|VALUE)\\b"
                }
            ]
        },
        "property-values": {
            "patterns": [
                {
                    "name": "support.constant.icalendar",
                    "match": "\\b(BINARY|BOOLEAN|CAL-ADDRESS|DATE-TIME|DATE|DISPLAY|DURATION|EMAIL|FEATURE|FLOAT|INTEGER|LABEL|PERIOD|RECUR|TEXT|TIME|URI|UTC-OFFSET|INDIVIDUAL|GROUP|RESOURCE|ROOM|UNKNOWN|FREE|BUSY-UNAVAILABLE|BUSY-TENTATIVE|BUSY|NEEDS-ACTION|ACCEPTED|DECLINED|TENTATIVE|DELEGATED|IN-PROCESS|CHILD|PARENT|SIBLING|CHAIR|REQ-PARTICIPANT|OPT-PARTICIPANT|NON-PARTICIPANT|AUDIO|DISPLAY|EMAIL|PROCEDURE|PUBLIC|PRIVATE|CONFIDENTIAL|CONFIRMED|CANCELLED|NEEDS-ACTION|IN-PROCESS|DRAFT|FINAL|OPAQUE|TRANSPARENT|TRUE|FALSE|FREQ|UNTIL|COUNT|INTERVAL|BYSECOND|BYMINUTE|BYHOUR|BYDAY|BYMONTHDAY|BYYEARDAY|BYWEEKNO|BYMONTH|BYSETPOS|WKST|SECONDLY|MINUTELY|HOURLY|DAILY|WEEKLY|MONTHLY|YEARLY|[+\\-]?[1-5]?[0-9]?MO|[+\\-]?[1-5]?[0-9]?TU|[+\\-]?[1-5]?[0-9]?WE|[+\\-]?[1-5]?[0-9]?TH|[+\\-]?[1-5]?[0-9]?FR|[+\\-]?[1-5]?[0-9]?SA|[+\\-]?[1-5]?[0-9]?SU)\\b"
                }
            ]
        },
        "comment-properties": {
            "patterns": [
                {
                    "name": "comment.line.x-property.icalendar",
                    "match": "^X-.*"
                }
            ]
        },
        "parameters": {
            "patterns": [
                {
                    "name": "variable.parameter.icalendar",
                    "match": ";([A-Z-]+)="
                }
            ]
        },
        "date-time": {
            "patterns": [
                {
                    "name": "constant.date.icalendar",
                    "match": "[0-9]{8}T[0-9]{6}Z?"
                }
            ]
        },
        "strings": {
            "patterns": [
                {
                    "name": "string.quoted.double.icalendar",
                    "begin": "\"",
                    "end": "\"",
                    "patterns": [
                        {
                            "name": "constant.character.escape.icalendar",
                            "match": "\\\\."
                        }
                    ]
                }
            ]
        }
    }
}